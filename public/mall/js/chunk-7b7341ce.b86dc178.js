(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7b7341ce"],{"069f":function(t,e,o){"use strict";var a=o("5bcc"),n=o.n(a);n.a},1007:function(t,e,o){"use strict";var a=o("e46b"),n=o("09b9"),r=o("ee21"),s=o("eafa"),i=[].lastIndexOf,c=!!i&&1/[1].lastIndexOf(1,-0)<0;a(a.P+a.F*(c||!o("a2cd")(i)),"Array",{lastIndexOf:function(t){if(c)return i.apply(this,arguments)||0;var e=n(this),o=s(e.length),a=o-1;for(arguments.length>1&&(a=Math.min(a,r(arguments[1]))),a<0&&(a=o+a);a>=0;a--)if(a in e&&e[a]===t)return a||0;return-1}})},"15f8":function(t,e,o){t.exports=o.p+"img/empty.5053d452.png"},"1fca":function(t,e,o){"use strict";var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"loader-layer",class:t.show?"active":""},[t._m(0)])},n=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"spinner"},[o("div",{staticClass:"double-bounce1"}),o("div",{staticClass:"double-bounce2"},[t._v("loading...")]),o("div",{staticClass:"double-bounce3"})])}],r={props:["show"]},s=r,i=(o("b707"),o("623f")),c=Object(i["a"])(s,a,n,!1,null,"1c8ad333",null);e["a"]=c.exports},"41d6":function(t,e,o){},"587d":function(t,e,o){"use strict";o("5cb4"),o("1007"),o("e10e"),o("6d57"),o("ff21");var a=o("82ae"),n=o.n(a);function r(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET";return new Promise((function(r,i){if("GET"===a.toUpperCase()){var c="";Object.keys(o).forEach((function(t){c+=t+"="+o[t]+"&"})),c?(c=c.substr(0,c.lastIndexOf("&")),-1===e.indexOf("127.0.0.1")?e+="?"+c+"&Geek-James="+s(20):e+="?"+c):-1===e.indexOf("127.0.0.1")&&(e+="?Geek-James="+s(20)),t=n.a.get(e)}else"POST"===a.toUpperCase()&&(t=n.a.post(e,o));t.then((function(t){r(t.data)})).catch((function(t){i(t)}))}))}function s(t){for(var e=["0","1","2","3","4","5","6","7","8","9"],o="",a=0;a<t;a++){var n=Math.ceil(9*Math.random());o+=e[n]}return o}o.d(e,"a",(function(){return c})),o.d(e,"b",(function(){return d})),o.d(e,"d",(function(){return l})),o.d(e,"c",(function(){return u}));var i="http://api.7-orange.cn:7300/mock/5def6a2d448e330a1116366e/api/",c=function(){return r(i+"cart/youlike")},d=function(t){return r(i+"send_code",{phoneNumber:t})},l=function(t,e){return r(i+"login_code",{phone:t,captcha:e},"POST")},u=function(){return r(i+"vip")}},"5bcc":function(t,e,o){},b707:function(t,e,o){"use strict";var a=o("ff69"),n=o.n(a);n.a},c228:function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cart"},[a("header",{staticClass:"titleWrapper"},[a("h4",[a("strong",[t._v(t._s(t.$t("car.title")))])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowEmptyCart,expression:"isShowEmptyCart"}],staticClass:"clearCart",style:0==t.selectedGoodsCount?"color:grey":"color:#15a892",on:{click:t.clearCart}},[t._v(t._s(t.$t("car.delete")))])]),a("div",{staticClass:"cartWrapper"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.isShowEmptyCart,expression:"!isShowEmptyCart"}],staticClass:"emptyCart"},[a("img",{attrs:{src:o("15f8"),alt:""}}),a("div",{staticClass:"title"},[t._v(t._s(t.$t("car.tip")))]),a("router-link",{staticClass:"goHome",attrs:{to:"/dashboard/home"}},[t._v(t._s(t.$t("car.walk")))])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowEmptyCart,expression:"isShowEmptyCart"}],staticClass:"contentWrapper"},[t._l(t.shopCart,(function(e,o){return a("div",{key:e.id,staticClass:"contentWrapperList"},[a("section",[a("div",{staticClass:"shopCartListCon"},[a("div",{staticClass:"left"},[a("a",{staticClass:"cartCheckBox",attrs:{href:"javaScript:;",checked:e.checked},on:{click:function(o){return o.stopPropagation(),t.single(e.sid)}}})]),a("div",{staticClass:"center"},[a("img",{staticStyle:{height:"6rem"},attrs:{src:e.thumb}})]),a("div",{staticClass:"right"},[a("a",[t._v(t._s(e.name))]),a("div",{staticClass:"bottomContent"},[a("p",{staticClass:"shopPrice"},[t._v(t._s(t._f("moneyFormat")(e.price)))]),a("div",{staticClass:"shopDeal"},[a("span",{on:{click:function(o){return t.reduceGoods(e.sid,e.num,e.shoptype)}}},[t._v("-")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.num,expression:"goods.num"}],attrs:{type:"number",disabled:""},domProps:{value:e.num},on:{input:function(o){o.target.composing||t.$set(e,"num",o.target.value)}}}),a("span",{on:{click:function(o){return t.addGoods(e.sid,e.name,e.thumb,e.price,e.shoptype,e.category,e.vcnote,e.status,e.sort)}}},[t._v("+")])])])])])])])})),a("van-submit-bar",{directives:[{name:"show",rawName:"v-show",value:t.isShowEmptyCart,expression:"isShowEmptyCart"}],attrs:{price:t.totalPrice,"button-text":t.submitBarText,disabled:!(t.selectedGoodNum>0)},on:{submit:t.onSubmit}},[a("van-checkbox",{attrs:{"checked-color":"#15a892"},model:{value:t.isCheckedAll,callback:function(e){t.isCheckedAll=e},expression:"isCheckedAll"}},[t._v(t._s(t.$t("car.all")))])],1)],2),a("van-divider",{style:{color:"black",borderColor:"grey",padding:"0 16px"}},[t._v("\n      购物车\n    ")])],1),a("Loading",{attrs:{show:t.isShowLoading}}),a("v-top")],1)},n=[],r=(o("4ca5"),o("77e6"),o("5ab2"),o("cdbe"),o("4aac"),o("ad86")),s=(o("63ff"),o("57f0")),i=(o("6657"),o("08c6")),c=(o("de78"),o("ff21"),o("6d57"),o("e10e"),o("289c")),d=o("fb2d"),l=o("587d"),u=o("1fca"),f=o("08c1"),p=(o("cdd9"),o("07a4")),h=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("van-dialog",{attrs:{title:"手机号码验证",confirmButtonColor:"#666","show-confirm-button":!1},on:{confirm:t.send},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[o("div",{staticClass:"tip"},[o("van-field",{attrs:{required:"",center:"",clearable:"",label:"姓名",placeholder:"请输入真实姓名"},model:{value:t.dataCode.name,callback:function(e){t.$set(t.dataCode,"name",e)},expression:"dataCode.name"}}),o("van-field",{attrs:{type:"tel",required:"",center:"",clearable:"",label:"电话",placeholder:"请输入手机号"},model:{value:t.dataCode.tel,callback:function(e){t.$set(t.dataCode,"tel",e)},expression:"dataCode.tel"}}),o("van-field",{attrs:{required:"",center:"",clearable:"",label:"短信验证码",placeholder:"请输入短信验证码"},scopedSlots:t._u([{key:"button",fn:function(){return[o("van-button",{directives:[{name:"show",rawName:"v-show",value:t.code,expression:"code"}],attrs:{size:"small",type:"primary"},on:{click:t.icode}},[t._v("发送验证码")]),o("van-button",{directives:[{name:"show",rawName:"v-show",value:!t.code,expression:"!code"}],attrs:{size:"small",type:"primary",disabled:""}},[t._v(t._s(t.count)+" s")])]},proxy:!0}]),model:{value:t.dataCode.verify,callback:function(e){t.$set(t.dataCode,"verify",e)},expression:"dataCode.verify"}})],1),o("div",{staticStyle:{padding:"10px"}},[o("van-button",{attrs:{type:"info",block:""},on:{click:t.send}},[t._v("确定")])],1)])],1)},v=[],m=(o("cc57"),o("8262"));function b(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,a)}return o}function O(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?b(Object(o),!0).forEach((function(e){Object(c["a"])(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):b(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var C={props:{show:{type:Boolean,default:!1}},data:function(){return{code:!0,count:0,dataCode:{tel:"",name:"",verify:"",id:p["a"].state.user_info.id}}},created:function(){},methods:O({},Object(f["b"])(["setUserinfo"]),{getCode:function(){var t=this,e=60;this.timer||(this.count=e,this.code=!1,this.timer=setInterval((function(){t.count>0&&t.count<=e?t.count--:(t.code=!0,clearInterval(t.timer),t.timer=null)}),1e3))},icode:function(){var t=this;if(this.dataCode.tel)if(!this.dataCode.tel||/^[1][34578]\d{9}$/.test(this.dataCode.tel)&&/^[1-9]\d*$/.test(this.dataCode.tel)&&11===this.dataCode.tel.length){var e={id:p["a"].state.user_info.id,tel:this.dataCode.tel};Object(m["i"])(e).then((function(e){0==e.code?(Object(r["a"])("验证码发送成功"),t.getCode()):Object(r["a"])("参数错误")}))}else Object(r["a"])("请输入正确的手机号码");else Object(r["a"])("请输入手机号")},send:function(){var t=this;this.dataCode.name?this.dataCode.tel?this.dataCode.verify?Object(m["j"])(this.dataCode).then((function(e){1==e.code?Object(r["a"])(e.msg):(t.setUserinfo(e.data),Object(r["a"])({message:"验证成功",duration:2e3,onClose:function(){t.show=!1,t.$emit("verify",!1)}}))})):Object(r["a"])("请输入验证码"):Object(r["a"])("请输入手机号"):Object(r["a"])("请输入姓名")}})},g=C,_=o("623f"),y=Object(_["a"])(g,h,v,!1,null,null,null),w=y.exports;function j(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,a)}return o}function E(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?j(Object(o),!0).forEach((function(e){Object(c["a"])(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):j(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var S={mounted:function(){},created:function(){1==p["a"].state.user_info.verify&&(console.log("code_show2",this.code_show),this.code_show=!1)},data:function(){return{youLike_product_lists:[],isShowLoading:!1,code_show:!0,isEmptyCart:!1}},components:{ProduceItem:d["a"],Loading:u["a"],icode:w},computed:E({submitBarText:function(){var t=this.selectedGoodNum;return this.$t("order.settlement")+(t?"(".concat(t,")"):"")},isShowEmptyCart:function(){var t=!1;return this.totalCount>0&&(t=!0),t}},Object(f["e"])(["shopCart","userInfo"]),{},Object(f["c"])({selectedGoodNum:"SELECTED_GOODS_COUNT",totalPrice:"SELECTED_GOODS_PRICE"}),{totalCount:function(){return Object.keys(this.shopCart).length},selectedGoodsCount:function(){var t=0;return Object.values(this.shopCart).forEach((function(e,o){e.checked&&t++})),t},isCheckedAll:{get:function(){var t=this.totalCount>0,e=this.shopCart;return Object.values(e).forEach((function(e){e.checked||(t=!1)})),t},set:function(t){var e=!t;this.ALL_SELECT_GOODS({isCheckedAll:e})}}}),methods:E({},Object(f["d"])(["ADD_GOODS","REDUCE_GOODS","SINGLE_SELECT_GOODS","ALL_SELECT_GOODS","DELETE_SELECT_GOODS","ADD_TO_CART"]),{clearCart:function(){var t=this;this.selectedGoodsCount>0&&i["a"].confirm({title:this.$t("login.tipTile"),message:this.$t("common.deleteConfirm")}).then((function(){t.DELETE_SELECT_GOODS()})).catch((function(){}))},verify:function(){this.code_show=!1,console.log("code_show3",this.code_show)},_initData:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(l["a"])();case 2:e=t.sent,e.success&&(this.youLike_product_lists=e.data.product_list,this.isShowLoading=!1);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),reduceGoods:function(t,e,o){var a=this;e>1?this.REDUCE_GOODS({goodsID:t}):1===e&&i["a"].confirm({title:"温馨提示",message:"确定删除该商品吗?"}).then((function(){a.REDUCE_GOODS({goodsID:t})})).catch((function(){}))},addGoods:function(t,e,o,a,n,r,s,i,c){n!=this.SHOPTYPE_XF&&this.ADD_GOODS({goodsID:t,goodsName:e,goodsSmallImage:o,goodsPrice:a,goodsShoptype:n,goodsCategory:r,goodsVcnote:s,goodsStatus:i,goodsSort:c})},single:function(t){this.SINGLE_SELECT_GOODS({goodsID:t})},onSubmit:function(){this.selectedGoodNum>0?this.$router.push("/order"):Object(r["a"])({message:this.$t("order.chooseGoods"),duration:1e3})}})},D=S,k=(o("e19e"),Object(_["a"])(D,a,n,!1,null,"7f6a116c",null));e["default"]=k.exports},e19e:function(t,e,o){"use strict";var a=o("41d6"),n=o.n(a);n.a},fb2d:function(t,e,o){"use strict";var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"produceItem"}},[o("h3",{staticClass:"produceItem-title"},[t._v("商品推荐")]),t._l(t.product_lists,(function(e,a){return o("div",{key:a,staticClass:"item",on:{click:function(o){return o.stopPropagation(),t.goToGoodsDetail(e)}}},[o("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.thumb,expression:"product.thumb"}],attrs:{alt:""}}),o("p",{staticClass:"itemTitle"},[t._v(t._s(e.title))]),o("p",{staticClass:"itemSubTitle"},[t._v(t._s(e.vcnote))]),t.isShowEatTag?o("span",{staticClass:"tagEat"},[t._v(t._s(t.$t("home.foodie")))]):t._e(),o("span",{staticClass:"price"},[t._v("\n      "+t._s(t._f("moneyFormat")(e.price))+"\n    ")]),o("div",{staticClass:"buyCar",on:{click:function(o){return o.stopPropagation(),t.addCart(e)}}},[o("svg-icon",{staticStyle:{width:"1.5rem",height:"1.5rem"},attrs:{iconClass:"car"}})],1)])}))],2)},n=[],r=(o("4ca5"),o("77e6"),o("5ab2"),o("ff21"),o("cdbe"),o("6d57"),o("e10e"),o("289c")),s=o("08c1");function i(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,a)}return o}function c(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?i(Object(o),!0).forEach((function(e){Object(r["a"])(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var d={props:{product_lists:Array},data:function(){return{isShowEatTag:!1}},components:{},computed:{},methods:c({},Object(s["d"])({addCart:"ADD_TO_CART"}),{goToGoodsDetail:function(t){this.$router.push({name:"goodsDetail",query:{id:t.id}})}})},l=d,u=(o("069f"),o("623f")),f=Object(u["a"])(l,a,n,!1,null,"ea720532",null);e["a"]=f.exports},ff69:function(t,e,o){}}]);