(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4d9d6542"],{"09f4":function(t,e,a){"use strict";a.d(e,"a",(function(){return r})),Math.easeInOutQuad=function(t,e,a,l){return t/=l/2,t<1?a/2*t*t+e:(t--,-a/2*(t*(t-2)-1)+e)};var l=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}();function i(t){document.documentElement.scrollTop=t,document.body.parentNode.scrollTop=t,document.body.scrollTop=t}function n(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function r(t,e,a){var r=n(),o=t-r,s=20,d=0;e="undefined"===typeof e?500:e;var u=function t(){d+=s;var n=Math.easeInOutQuad(d,r,o,e);i(n),d<e?l(t):a&&"function"===typeof a&&a()};u()}},8235:function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"150px"},attrs:{clearable:"",placeholder:"请输入墓穴名称"},model:{value:t.listQuery.keyword,callback:function(e){t.$set(t.listQuery,"keyword",e)},expression:"listQuery.keyword"}}),t._v(" "),a("el-select",{staticClass:"filter-item",staticStyle:{width:"120px"},attrs:{placeholder:"选择墓区",clearable:""},model:{value:t.listQuery.q_id,callback:function(e){t.$set(t.listQuery,"q_id",e)},expression:"listQuery.q_id"}},t._l(t.area,(function(t){return a("el-option",{key:t.id,attrs:{label:t.type_name,value:t.id}})})),1),t._v(" "),a("el-select",{staticClass:"filter-item",staticStyle:{width:"120px"},attrs:{placeholder:"选择类型",clearable:""},model:{value:t.listQuery.type_id,callback:function(e){t.$set(t.listQuery,"type_id",e)},expression:"listQuery.type_id"}},t._l(t.cemetery.t,(function(t){return a("el-option",{key:t.id,attrs:{label:t.type_name,value:t.id}})})),1),t._v(" "),a("el-select",{staticClass:"filter-item",staticStyle:{width:"120px"},attrs:{placeholder:"选择样式",clearable:""},model:{value:t.listQuery.style_id,callback:function(e){t.$set(t.listQuery,"style_id",e)},expression:"listQuery.style_id"}},t._l(t.cemetery.s,(function(t){return a("el-option",{key:t.id,attrs:{label:t.type_name,value:t.id}})})),1),t._v(" "),a("el-date-picker",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{type:"date",placeholder:"开始日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},model:{value:t.listQuery.begindate,callback:function(e){t.$set(t.listQuery,"begindate",e)},expression:"listQuery.begindate"}}),t._v(" "),a("el-date-picker",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{type:"date",placeholder:"结束日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},model:{value:t.listQuery.enddate,callback:function(e){t.$set(t.listQuery,"enddate",e)},expression:"listQuery.enddate"}}),t._v(" "),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["GET /api/v1/stat/az_bury_list"],expression:"['GET /api/v1/stat/az_bury_list']"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.handleFilter}},[t._v("查找")]),t._v(" "),a("el-input",{staticClass:"filter-item",staticStyle:{width:"150px"},attrs:{clearable:"",placeholder:"请输入文件名称"},model:{value:t.exportFileName,callback:function(e){t.exportFileName=e},expression:"exportFileName"}}),t._v(" "),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["GET /api/v1/stat/export_order_stat"],expression:"['GET /api/v1/stat/export_order_stat']"}],staticClass:"filter-item",attrs:{loading:t.downloadLoading,type:"primary",icon:"el-icon-download"},on:{click:t.handleDownload}},[t._v("导出")])],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{data:t.list,"element-loading-text":"正在查询中。。。",border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{align:"center",label:"订单号",prop:"order_no"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"墓穴位置",prop:"seatname"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"墓位类型",prop:"stylename"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"样式",prop:"typename"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"使用人",prop:"muzhu_name"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"购买人",prop:"buyer_name"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"电话",prop:"phone"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"购墓时间",prop:"order_begin"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"实收价格",prop:"sum_price"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作人",prop:"sellname"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"墓穴状态",prop:"order_status",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:t._f("or_status")(e.row.order_status)}},[t._v("\n          已销售\n        ")])]}}])})],1),t._v(" "),a("div",{staticStyle:{color:"red","line-height":"30px","text-aglin":"right","text-align":"right"}},[t._v("总计: "),a("strong",[t._v(t._s(t.price))]),t._v(" 元")]),t._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total>0"}],attrs:{total:t.total,page:t.listQuery.page,limit:t.listQuery.limit},on:{"update:page":function(e){return t.$set(t.listQuery,"page",e)},"update:limit":function(e){return t.$set(t.listQuery,"limit",e)},pagination:t.getList}})],1)},i=[],n=a("f8b7"),r=a("ef42"),o=a("333d"),s=a("ac0d"),d={name:"VueSaveList",components:{Pagination:o["a"]},mixins:[s["a"],s["b"]],data:function(){return{list:null,export_list:null,total:0,price:null,listLoading:!0,area:null,garen_id:"",downloadLoading:!1,exportFileName:"",listQuery:{page:1,limit:20,keyword:void 0,q_id:"",type_id:"",style_id:"",usestatus:"3",begindate:"",enddate:"",sort:"add_time",order:"desc"}}},computed:{},created:function(){this.getList(),this.inquery()},methods:{getList:function(){var t=this;this.listLoading=!0;var e={pid:this.garden_id};Object(r["b"])(e).then((function(e){t.area=e.data})),Object(n["a"])(this.listQuery).then((function(e){t.list=e.data.orderlist.data,t.price=e.data.ordersum[0].zje,t.total=e.data.orderlist.total||0,t.listLoading=!1})).catch((function(){t.list=[],t.total=0,t.listLoading=!1}))},handleFilter:function(){this.listQuery.page=1,this.getList()},handleDownload:function(){var t=this;this.downloadLoading=!0,Object(n["c"])(this.listQuery).then((function(e){t.export_list=e.data,Promise.all([a.e("chunk-e69e90f4"),a.e("chunk-581b2547")]).then(a.bind(null,"4bf8d")).then((function(e){var a=["order_no","seatname","stylename","typename","muzhu_name","buyer_name","phone","order_begin","sum_price"],l=["订单号","墓穴位置","墓位类型","样式","使用人","购买人","电话","购墓时间","实收价格"],i=t.formatJson(a,t.export_list);e.export_json_to_excel({header:l,data:i,filename:""===t.exportFileName?"公墓订单":t.exportFileName}),t.downloadLoading=!1}))}))},formatJson:function(t,e){return e.orderlist.map((function(e){return t.map((function(t){return e[t]}))}))}}},u=d,c=a("2877"),p=Object(c["a"])(u,l,i,!1,null,null,null);e["default"]=p.exports},f8b7:function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"b",(function(){return r}));var l=a("b775");function i(t){return Object(l["a"])({url:"/stat/buy_order_list",method:"get",params:t})}function n(t){return Object(l["a"])({url:"/stat/export_order_stat",method:"get",params:t})}function r(t){return Object(l["a"])({url:"/stat/buy_services_list",method:"post",data:t})}}}]);